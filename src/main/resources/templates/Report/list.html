<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en" th:include="common/header :: header"></head>
<body>
<!-- Navigation -->
<nav th:include="common/navbar :: navbar" class="navbar navbar-expand-lg navbar-dark fixed-top" >
</nav>
<!-- Navigation -->




<!-- Page Content -->
<div class="container-fluid subContainer" sec:authorize="hasAuthority('REP_R') and hasRole('ROLE_ADMIN')">
  <div class="card subCard">


    <!--Search Information Tool-->
    <div class="card-body subcard-body pb-0 pt-2">
        <form class="row row-cols-auto" th:object="${pssSearch}" th:action="@{/report/list}" method="post" name="searchreport" id="searchreport">
          <div class="col pe-2">
            <select class="form-control" th:field="*{searchReportGroup}" id="searchReportGroup" name="searchReportGroup">
                <option value="-1">-All Group-</option>
                <option th:each="reportGroup : ${reportGroup}" th:value="${reportGroup.code2}" th:utext="${reportGroup.codename}" th:selected="${reportGroup.code2==filterForm.searchReportGroup}">
                </option>
            </select>
          </div>  

          <div class="col pe-2">
            <select class="form-control" th:field="*{searchReportType}" id="searchReportType" name="searchReportType">
                <option value="-1">-All Type-</option>
                <option th:each="reportType : ${reportType}" th:value="${reportType.code2}" th:utext="${reportType.codename}" th:selected="${reportType.code2==filterForm.searchReportType}">
                </option>
            </select>
          </div>  


          <div class="col pe-2">
            <input type="text" class="form-control" th:field="*{searchName}" id="searchName" name="searchName" placeholder="Name of Report" th:value="${filterForm.searchName}">
          </div>   
          <div class="col pe-2">
            <button type="submit" class="btn btn-outline-secondary mb-2 btn-sm"><i class="fa fa-search"></i> Search</button> 
            <button type="button" class="btn btn-outline-primary mb-2 btn-sm" id='managereportinputBtn'  sec:authorize="hasAuthority('REP_A') and hasRole('ROLE_ADMIN')"><i class="fa fa-plus"></i> Add</button>
          </div>  
                  
        </form>
    </div>
<!--Search Information Tool-->
  </div>  







<!--Listing Log-->
    <div class="table-responsive">
      <table id="managereportlistTable" class="table  table-bordered mb-0 table-hover">
          <thead class="commonThead">
              <tr>
                  <th>Report ID</th>
                  <th>Report Group</th>
                  <th>Report Type</th>
                  <th>Report Name</th>                                  
                  <th>Sort</th>
                  <th>Devide</th> 
                  <th>Mothod Name</th> 
                  <th>Available</th>                                      
                  <th>LastUpdated</th>  
              </tr>
          </thead>
          <tbody>
              <tr th:each="results : ${results}"  sec:authorize="hasAuthority('REP_R') and hasRole('ROLE_ADMIN')">
                  <td ><a href="#" th:onclick="@{'loadmanagereportdetail(' + ${results.reportId} + ');'}" th:text="${results.reportId}">1</a></td>
                  <td th:text="${results.reportGroupName}">Group 1</td>
                  <td th:text="${results.reportTypeName}">Right of Way(ROW)</td>
                  <td th:text="${results.reportName}">Listing</td>
                  <td th:text="${results.reportOrder}">1</td>
                  <td><i class="fa fa-minus text-dark" th:if="${results.divid == true}"></i></td>
                  <td th:text="${results.methodName}">reportiaARby</td>
                  <td><i class="fa fa-check text-success"  th:if="${results.Available == true}"></i><i class="fa fa-times text-danger"  th:if="${results.Available == false}"></i></td>
                  <td th:text="${results.LastUpdated}">04/13/2021 12:00:00</td>
              </tr>
        </tbody>                                        
      </table>



        <!--Paging Log-->
        <div class="bbsBottom" th:if="${results.totalPages gt 0}"  sec:authorize="hasAuthority('REP_R') and hasRole('ROLE_ADMIN')">
            <ul class="pagination pagination-md justify-content-center " style="margin:10px 0" th:with="start=${T(Math).floor(results.number/10)*10 + 1},
                    last=(${start + 9 < results.totalPages ? start + 9 : results.totalPages})">

                <li class="page-item">
                    <a class="page-link" th:href="@{/report/list?page=1&searchReportGroup={searchReportGroup}&searchReportType={searchReportType}&searchName={searchName}(searchReportGroup=${filterForm.searchReportGroup},searchReportType=${filterForm.searchReportType},searchName=${filterForm.searchName})}" aria-label="First">
                        <span aria-hidden="true">First</span>
                    </a>
                </li>
                <li class="page-item" th:classappend="${results.number eq 0} ? 'disabled'">
                    <a class="page-link" th:href="@{/report/list?page={id}&searchReportGroup={searchReportGroup}&searchReportType={searchReportType}&searchName={searchName}(id=${results.number lt 2 ? 1 : results.number},searchReportGroup=${filterForm.searchReportGroup},searchReportType=${filterForm.searchReportType},searchName=${filterForm.searchName})}"><<</a>
                </li>
                <li  th:each="page: ${#numbers.sequence(start, last)}" th:class=" ${page == results.number+1} ? 'page-item active' : 'page-item ' ">
                    <a class="page-link" th:href="@{/report/list?page={id}&searchReportGroup={searchReportGroup}&searchReportType={searchReportType}&searchName={searchName}(id=${page},searchReportGroup=${filterForm.searchReportGroup},searchReportType=${filterForm.searchReportType},searchName=${filterForm.searchName})}"
                       th:text="${page}">1</a>

                </li>
                <li class="page-item"  th:classappend="${results.number + 1 eq results.totalPages} ? 'disabled'">
                    <a class="page-link" th:href="@{/report/list?page={id}&searchReportGroup={searchReportGroup}&searchReportType={searchReportType}&searchName={searchName}(id=${results.number + 2},searchReportGroup=${filterForm.searchReportGroup},searchReportType=${filterForm.searchReportType},searchName=${filterForm.searchName})}">>></a>
                </li>
                <li class="page-item" >
                    <a class="page-link" th:href="@{/report/list?page={id}&searchReportGroup={searchReportGroup}&searchReportType={searchReportType}&searchName={searchName}(id=${results.totalPages},searchReportGroup=${filterForm.searchReportGroup},searchReportType=${filterForm.searchReportType},searchName=${filterForm.searchName})}" aria-label="Last">
                        <span aria-hidden="true">Last</span>
                    </a>
                </li>
            </ul>
        </div>
        <!--Paging Log-->


  </div>
<!--Listing Log-->


</div>
<!-- Page Content -->

<div lang="en" th:include="common/footer :: footer"></div>
</body>
</html>
<script th:src="@{/js/pss-managereportscustom.js}"></script><!--Custom js-->
